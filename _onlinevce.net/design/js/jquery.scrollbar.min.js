!function(l,e){"function"==typeof define&&define.amd?define(["jquery"],e):e(l.jQuery)}(this,function(l){"use strict";function n(e){if(s.webkit&&!e)return{height:0,width:0};if(!s.data.outer){var o={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};s.data.inner=l("<div>").css(l.extend({},o)),s.data.outer=l("<div>").css(l.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},o)).append(s.data.inner).appendTo("body")}return s.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(s.data.outer.offset().top-s.data.inner.offset().top||0),width:Math.ceil(s.data.outer.offset().left-s.data.inner.offset().left||0)}}function a(){var l=n(!0);return!(l.height||l.width)}function c(l){var e=l.originalEvent;return e.axis&&e.axis===e.HORIZONTAL_AXIS?!1:e.wheelDeltaX?!1:!0}var e=!1,s={data:{index:0,name:"scrollbar"},macosx:/mac/i.test(navigator.platform),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};s.scrolls.add=function(l){this.remove(l).push(l)},s.scrolls.remove=function(e){for(;l.inArray(e,this)>=0;)this.splice(l.inArray(e,this),1);return this};var o={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},r=function(e){s.scroll||(s.overlay=a(),s.scroll=n(),t(),l(window).resize(function(){var l=!1;if(s.scroll&&(s.scroll.height||s.scroll.width)){var e=n();(e.height!==s.scroll.height||e.width!==s.scroll.width)&&(s.scroll=e,l=!0)}t(l)})),this.container=e,this.namespace=".scrollbar_"+s.data.index++,this.options=l.extend({},o,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},e.data(s.data.name,this),s.scrolls.add(this)};r.prototype={destroy:function(){if(this.wrapper){this.container.removeData(s.data.name),s.scrolls.remove(this);var e=this.container.scrollLeft(),o=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:"","max-height":""}).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(e).scrollTop(o),this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").andSelf().off(this.namespace),this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").andSelf().off(this.namespace),this.wrapper.remove(),l(document).add("body").off(this.namespace),l.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(e){var o=this,r=this.container,i=this.containerWrapper||r,t=this.namespace,n=l.extend(this.options,e||{}),a={x:this.scrollx,y:this.scrolly},f=this.wrapper,d={scrollLeft:r.scrollLeft(),scrollTop:r.scrollTop()};if(s.mobile&&n.ignoreMobile||s.overlay&&n.ignoreOverlay||s.macosx&&!s.webkit)return!1;if(f)i.css({height:"auto","margin-bottom":-1*s.scroll.height+"px","margin-right":-1*s.scroll.width+"px","max-height":""});else{if(this.wrapper=f=l("<div>").addClass("scroll-wrapper").addClass(r.attr("class")).css("position","absolute"==r.css("position")?"absolute":"relative").insertBefore(r).append(r),r.is("textarea")&&(this.containerWrapper=i=l("<div>").insertBefore(r).append(r),f.addClass("scroll-textarea")),i.addClass("scroll-content").css({height:"auto","margin-bottom":-1*s.scroll.height+"px","margin-right":-1*s.scroll.width+"px","max-height":""}),r.on("scroll"+t,function(e){l.isFunction(n.onScroll)&&n.onScroll.call(o,{maxScroll:a.y.maxScrollOffset,scroll:r.scrollTop(),size:a.y.size,visible:a.y.visible},{maxScroll:a.x.maxScrollOffset,scroll:r.scrollLeft(),size:a.x.size,visible:a.x.visible}),a.x.isVisible&&a.x.scroll.bar.css("left",r.scrollLeft()*a.x.kx+"px"),a.y.isVisible&&a.y.scroll.bar.css("top",r.scrollTop()*a.y.kx+"px")}),f.on("scroll"+t,function(){f.scrollTop(0).scrollLeft(0)}),n.disableBodyScroll){var u=function(l){c(l)?a.y.isVisible&&a.y.mousewheel(l):a.x.isVisible&&a.x.mousewheel(l)};f.on("MozMousePixelScroll"+t,u),f.on("mousewheel"+t,u),s.mobile&&f.on("touchstart"+t,function(e){var s=e.originalEvent.touches&&e.originalEvent.touches[0]||e,o={pageX:s.pageX,pageY:s.pageY},i={left:r.scrollLeft(),top:r.scrollTop()};l(document).on("touchmove"+t,function(l){var e=l.originalEvent.targetTouches&&l.originalEvent.targetTouches[0]||l;r.scrollLeft(i.left+o.pageX-e.pageX),r.scrollTop(i.top+o.pageY-e.pageY),l.preventDefault()}),l(document).on("touchend"+t,function(){l(document).off(t)})})}l.isFunction(n.onInit)&&n.onInit.apply(this,[r])}l.each(a,function(e,s){var i=null,f=1,d="x"===e?"scrollLeft":"scrollTop",u=n.scrollStep,h=function(){var l=r[d]();r[d](l+u),1==f&&l+u>=p&&(l=r[d]()),-1==f&&p>=l+u&&(l=r[d]()),r[d]()==l&&i&&i()},p=0;s.scroll||(s.scroll=o._getScroll(n["scroll"+e]).addClass("scroll-"+e),n.showArrows&&s.scroll.addClass("scroll-element_arrows_visible"),s.mousewheel=function(l){if(!s.isVisible||"x"===e&&c(l))return!0;if("y"===e&&!c(l))return a.x.mousewheel(l),!0;var i=-1*l.originalEvent.wheelDelta||l.originalEvent.detail,t=s.size-s.visible-s.offset;return(i>0&&t>p||0>i&&p>0)&&(p+=i,0>p&&(p=0),p>t&&(p=t),o.scrollTo=o.scrollTo||{},o.scrollTo[d]=p,setTimeout(function(){o.scrollTo&&(r.stop().animate(o.scrollTo,240,"linear",function(){p=r[d]()}),o.scrollTo=null)},1)),l.preventDefault(),!1},s.scroll.on("MozMousePixelScroll"+t,s.mousewheel).on("mousewheel"+t,s.mousewheel).on("mouseenter"+t,function(){p=r[d]()}),s.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown"+t,function(t){if(1!=t.which)return!0;f=1;var a={eventOffset:t["x"===e?"pageX":"pageY"],maxScrollValue:s.size-s.visible-s.offset,scrollbarOffset:s.scroll.bar.offset()["x"===e?"left":"top"],scrollbarSize:s.scroll.bar["x"===e?"outerWidth":"outerHeight"]()},c=0,v=0;return l(this).hasClass("scroll-arrow")?(f=l(this).hasClass("scroll-arrow_more")?1:-1,u=n.scrollStep*f,p=f>0?a.maxScrollValue:0):(f=a.eventOffset>a.scrollbarOffset+a.scrollbarSize?1:a.eventOffset<a.scrollbarOffset?-1:0,u=Math.round(.75*s.visible)*f,p=a.eventOffset-a.scrollbarOffset-(n.stepScrolling?1==f?a.scrollbarSize:0:Math.round(a.scrollbarSize/2)),p=r[d]()+p/s.kx),o.scrollTo=o.scrollTo||{},o.scrollTo[d]=n.stepScrolling?r[d]()+u:p,n.stepScrolling&&(i=function(){p=r[d](),clearInterval(v),clearTimeout(c),c=0,v=0},c=setTimeout(function(){v=setInterval(h,40)},n.duration+100)),setTimeout(function(){o.scrollTo&&(r.animate(o.scrollTo,n.duration),o.scrollTo=null)},1),o._handleMouseDown(i,t)}),s.scroll.bar.on("mousedown"+t,function(i){if(1!=i.which)return!0;var n=i["x"===e?"pageX":"pageY"],a=r[d]();return s.scroll.addClass("scroll-draggable"),l(document).on("mousemove"+t,function(l){var o=parseInt((l["x"===e?"pageX":"pageY"]-n)/s.kx,10);r[d](a+o)}),o._handleMouseDown(function(){s.scroll.removeClass("scroll-draggable"),p=r[d]()},i)}))}),l.each(a,function(l,e){var s="scroll-scroll"+l+"_visible",o="x"==l?a.y:a.x;e.scroll.removeClass(s),o.scroll.removeClass(s),i.removeClass(s)}),l.each(a,function(e,s){l.extend(s,"x"==e?{offset:parseInt(r.css("left"),10)||0,size:r.prop("scrollWidth"),visible:f.width()}:{offset:parseInt(r.css("top"),10)||0,size:r.prop("scrollHeight"),visible:f.height()})}),this._updateScroll("x",this.scrollx),this._updateScroll("y",this.scrolly),l.isFunction(n.onUpdate)&&n.onUpdate.apply(this,[r]),l.each(a,function(l,e){var s="x"===l?"left":"top",o="x"===l?"outerWidth":"outerHeight",i="x"===l?"width":"height",t=parseInt(r.css(s),10)||0,a=e.size,c=e.visible+t,f=e.scroll.size[o]()+(parseInt(e.scroll.size.css(s),10)||0);n.autoScrollSize&&(e.scrollbarSize=parseInt(f*c/a,10),e.scroll.bar.css(i,e.scrollbarSize+"px")),e.scrollbarSize=e.scroll.bar[o](),e.kx=(f-e.scrollbarSize)/(a-c)||1,e.maxScrollOffset=a-c}),r.scrollLeft(d.scrollLeft).scrollTop(d.scrollTop).trigger("scroll")},_getScroll:function(e){var s={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>',"</div>","</div>",'<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>',"</div>",'<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>',"</div>","</div>","</div>"].join(""),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>',"</div>","</div>"].join("")};return s[e]&&(e=s[e]),e||(e=s.simple),e="string"==typeof e?l(e).appendTo(this.wrapper):l(e),l.extend(e,{bar:e.find(".scroll-bar"),size:e.find(".scroll-element_size"),track:e.find(".scroll-element_track")}),e},_handleMouseDown:function(e,s){var o=this.namespace;return l(document).on("blur"+o,function(){l(document).add("body").off(o),e&&e()}),l(document).on("dragstart"+o,function(l){return l.preventDefault(),!1}),l(document).on("mouseup"+o,function(){l(document).add("body").off(o),e&&e()}),l("body").on("selectstart"+o,function(l){return l.preventDefault(),!1}),s&&s.preventDefault(),!1},_updateScroll:function(e,o){var r=this.container,i=this.containerWrapper||r,t="scroll-scroll"+e+"_visible",n="x"===e?this.scrolly:this.scrollx,a=parseInt(this.container.css("x"===e?"left":"top"),10)||0,c=this.wrapper,f=o.size,d=o.visible+a;o.isVisible=f-d>1,o.isVisible?(o.scroll.addClass(t),n.scroll.addClass(t),i.addClass(t)):(o.scroll.removeClass(t),n.scroll.removeClass(t),i.removeClass(t)),"y"===e&&(r.is("textarea")||d>f?i.css({height:d+s.scroll.height+"px","max-height":"none"}):i.css({"max-height":d+s.scroll.height+"px"})),(o.size!=r.prop("scrollWidth")||n.size!=r.prop("scrollHeight")||o.visible!=c.width()||n.visible!=c.height()||o.offset!=(parseInt(r.css("left"),10)||0)||n.offset!=(parseInt(r.css("top"),10)||0))&&(l.extend(this.scrollx,{offset:parseInt(r.css("left"),10)||0,size:r.prop("scrollWidth"),visible:c.width()}),l.extend(this.scrolly,{offset:parseInt(r.css("top"),10)||0,size:this.container.prop("scrollHeight"),visible:c.height()}),this._updateScroll("x"===e?"y":"x",n))}};var i=r;l.fn.scrollbar=function(e,o){return"string"!=typeof e&&(o=e,e="init"),"undefined"==typeof o&&(o=[]),l.isArray(o)||(o=[o]),this.not("body, .scroll-wrapper").each(function(){var r=l(this),t=r.data(s.data.name);(t||"init"===e)&&(t||(t=new i(r)),t[e]&&t[e].apply(t,o))}),this},l.fn.scrollbar.options=o;var t=function(){var l=0,o=0;return function(r){var i,n,a,c,f,d,u;for(i=0;i<s.scrolls.length;i++)c=s.scrolls[i],n=c.container,a=c.options,f=c.wrapper,d=c.scrollx,u=c.scrolly,(r||a.autoUpdate&&f&&f.is(":visible")&&(n.prop("scrollWidth")!=d.size||n.prop("scrollHeight")!=u.size||f.width()!=d.visible||f.height()!=u.visible))&&(c.init(),a.debug&&(window.console&&console.log({scrollHeight:n.prop("scrollHeight")+":"+c.scrolly.size,scrollWidth:n.prop("scrollWidth")+":"+c.scrollx.size,visibleHeight:f.height()+":"+c.scrolly.visible,visibleWidth:f.width()+":"+c.scrollx.visible},!0),o++));e&&o>10?(window.console&&console.log("Scroll updates exceed 10"),t=function(){}):(clearTimeout(l),l=setTimeout(t,300))}}();window.angular&&!function(l){l.module("jQueryScrollbar",[]).provider("jQueryScrollbar",function(){var e=o;return{setOptions:function(s){l.extend(e,s)},$get:function(){return{options:l.copy(e)}}}}).directive("jqueryScrollbar",["jQueryScrollbar","$parse",function(l,e){return{restrict:"AC",link:function(s,o,r){var i=e(r.jqueryScrollbar),t=i(s);o.scrollbar(t||l.options).on("$destroy",function(){o.scrollbar("destroy")})}}}])}(window.angular)});